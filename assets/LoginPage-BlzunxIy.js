import{u as I,a as E,r as P,j as e,B as a,P as W,T as u,I as A,l as D,G as T}from"./index-BZx7GlKi.js";import{r as i,u as L,L as B}from"./vendor-nY0NvAmL.js";import{C as M}from"./Container-wHyLddb0.js";import{A as R,T as w,E as F}from"./Email-Ah5LDAF9.js";import{I as p,V as z,a as O}from"./VisibilityOff-GMgyMFcQ.js";import{L as V}from"./Lock-px4w3WEz.js";import{B as Y}from"./Button-5WUbXAa7.js";import"./react-DJG_os-6.js";const q=e.jsx(T,{styles:{"*":{margin:0,padding:0,boxSizing:"border-box"},"html, body":{height:"100%",overflow:"hidden"},"#root":{height:"100vh"}}});function Z(){const[t,j]=i.useState({email:"",password:""}),[n,v]=i.useState(!1),[s,x]=i.useState({}),{user:h,isLoading:b,isError:l,isSuccess:g,message:d}=I(r=>r.auth),f=L(),c=E();i.useEffect(()=>{l&&console.log(d),(g||h)&&f("/dashboard");const r=setTimeout(()=>{c(P())},3e3);return()=>clearTimeout(r)},[c,f,l,g,h,d]);const y=r=>{const{name:o,value:C}=r.target;j(m=>({...m,[o]:C})),s[o]&&x(m=>({...m,[o]:""}))},S=()=>{const r={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(r.email="Please enter a valid email"):r.email="Email is required",t.password?t.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",x(r),Object.keys(r).length===0},k=async r=>{if(r.preventDefault(),!S())return;const o={email:t.email,password:t.password};c(D(o))};return e.jsxs(e.Fragment,{children:[q,e.jsx(a,{sx:{height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:{xs:1.25,sm:2.5},overflow:"hidden"},children:e.jsx(M,{maxWidth:"sm",sx:{height:"auto",maxHeight:"calc(100vh - 40px)",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:e.jsxs(W,{elevation:10,sx:{padding:{xs:3,sm:5},borderRadius:3,backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.95)",width:"100%",maxWidth:450,maxHeight:{xs:"calc(100vh - 20px)",sm:"calc(100vh - 40px)"},overflowY:"auto","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.1)",borderRadius:"2px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(0, 0, 0, 0.2)"},animation:"slideUp 0.5s ease-out","@keyframes slideUp":{from:{opacity:0,transform:"translateY(30px)"},to:{opacity:1,transform:"translateY(0)"}}},children:[e.jsxs(a,{sx:{textAlign:"center",mb:4},children:[e.jsx(u,{variant:"h4",component:"h1",sx:{fontWeight:700,color:"primary.main",mb:1,fontSize:{xs:"1.75rem",sm:"2rem"}},children:"Welcome Back"}),e.jsx(u,{variant:"body1",color:"text.secondary",children:"Sign in to your account"})]}),l&&e.jsx(R,{severity:"error",sx:{mb:3,borderLeft:"4px solid #d32f2f"},children:d}),e.jsxs(a,{component:"form",onSubmit:k,children:[e.jsx(w,{fullWidth:!0,name:"email",label:"Email Address",type:"email",value:t.email,onChange:y,error:!!s.email,helperText:s.email,margin:"normal",InputProps:{startAdornment:e.jsx(p,{position:"start",children:e.jsx(F,{color:"action"})})},sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderWidth:"2px"}}}}),e.jsx(w,{fullWidth:!0,name:"password",label:"Password",type:n?"text":"password",value:t.password,onChange:y,error:!!s.password,helperText:s.password,margin:"normal",InputProps:{startAdornment:e.jsx(p,{position:"start",children:e.jsx(V,{color:"action"})}),endAdornment:e.jsx(p,{position:"end",children:e.jsx(A,{onClick:()=>v(!n),edge:"end",sx:{color:"action.active"},children:n?e.jsx(z,{}):e.jsx(O,{})})})},sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderWidth:"2px"}}}}),e.jsx(Y,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:b,sx:{mb:3,py:2,borderRadius:2,textTransform:"uppercase",fontSize:"1rem",fontWeight:500,letterSpacing:"0.5px",boxShadow:"none","&:hover":{boxShadow:"0 4px 12px rgba(25, 118, 210, 0.3)"},"&:disabled":{backgroundColor:"#ccc"}},children:b?"Signing in...":"Sign In"}),e.jsx(a,{sx:{textAlign:"center",mt:3},children:e.jsxs(u,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",e.jsx(B,{to:"/register",style:{color:"#1976d2",textDecoration:"none",fontWeight:500,cursor:"pointer"},onMouseEnter:r=>r.target.style.textDecoration="underline",onMouseLeave:r=>r.target.style.textDecoration="none",children:"Sign up here"})]})})]})]})})})]})}export{Z as default};
